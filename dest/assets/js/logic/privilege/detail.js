/*! Project: vip
 *  Version: 1.0.0
 *  Date: 2015-07-20 02:03:34 PM
 *  Author: 
 */define("/assets/js/logic/privilege/detail",["../../lib/jquery.min","../../mod/header","../../mod/login","../../mod/date","../../mod/myinfo","../../mod/jquery.cookie","../../tpl/output/loginHder","../../tpl/output/template","../../mod/screenWatch","../../lib/template.min","../../mod/gototop"],function(a,b,c){var d=jQuery=a("../../lib/jquery.min");a("../../mod/header"),a("../../mod/screenWatch");var e=a("../../lib/template.min"),f='<li><a href="#{{target}}" data-set-target="{{target}}" >{{name}}</a></li>';$title=d("#scrollfixed span"),d("#aboutcontent").find("li").each(function(a,b){var c="",g=d(b);g.find("a[name]").each(function(){var a=d(this);c+=e.compile(f)({target:a.attr("name"),name:d.trim(a.next().text())})}),d(d("#privNav").find(".side-menu__sub")[a]).html(c)});var g=function(a,b){this.$node=d(a),this.pos=this.$node.offset(),this.offset=parseInt(b),this.$win=d(window).on("scroll",d.proxy(this.checkPos,this)),this.checkPos()};g.prototype={constructor:g,checkPos:function(){var a=this.$win.scrollTop();a+this.offset>this.pos.top?this.$node.addClass("fixed"):this.$node.removeClass("fixed")}},new g("#privNav",10);var h=function(a,b,c){this.$node=d(a).on("click",d.proxy(this.click,this)),this.$anchor=this.$node.find("a[data-set-target]"),this.$win=d(window).on("scroll",d.proxy(this.spy,this)),b&&/^[0-3]$/.test(b)?d(d(a).children("li")[b]).find("a[data-set-target]").first().trigger("click"):c&&""!=c?this.$node.find("a[data-set-target=na"+c.substring(1)+"]").trigger("click"):d(a).find("li").first().addClass("current"),this.spy()};h.prototype={constructor:h,nodeTop:function(a){var b=a.attr("href"),c=0;return d("#aboutcontent").find("a[name="+b.substring(b.indexOf("#")+1)+"]").offset().top-c},click:function(a){var b=this;"A"==a.target.nodeName&&(d(a.target).data("set-target")?d("html, body").stop().animate({scrollTop:b.nodeTop(d(a.target))},0):d(a.target).siblings(".side-menu__sub").find("a").first().trigger("click")),a.preventDefault()},spy:function(){for(var a=this,b=this.$win.scrollTop(),c=0,e=this.$anchor.length;e>c;c++){var f=d(this.$anchor[c]),g=a.nodeTop(f);b>g-10&&(this.$anchor.parent("li").removeClass("current"),f.parent("li").addClass("current").parent("ul.side-menu__sub").parent("li").addClass("current").siblings("li").removeClass("current"))}}};var i,j=window.location.search.substr(1).match(/(^|[&|?])type=([^&]*)(&|$)/);null!=j&&(i=unescape(j[2]));var k=(new h("#privNav",i,window.location.hash),a("../../mod/gototop"));k.active(d(".col-main").get(0),{offsetMiddleSet:{left:90}})});