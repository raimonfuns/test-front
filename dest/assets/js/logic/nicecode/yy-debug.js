/*! Project: vip
 *  Version: 1.0.0
 *  Date: 2015-07-20 02:03:34 PM
 *  Author: 
 */define("/assets/js/logic/nicecode/yy-debug",["../../lib/jquery.min-debug","../../lib/template.min-debug","../../mod/dialog/dialog-debug","../../mod/dialog/popup-debug","../../mod/dialog/dialog-config-debug","../../mod/screenWatch-debug","../../mod/header-debug","../../mod/login-debug","../../mod/date-debug","../../mod/myinfo-debug","../../mod/jquery.cookie-debug","../../tpl/output/loginHder-debug","../../tpl/output/template-debug","../../mod/ajaxhelper-debug","./nicecodenav-debug","../../mod/pagehelper-debug","../../tpl/output/pager-debug"],function(a,b,c){function d(a,b,c,d){a.hasClass("active")&&0!=a.data("code")||(h("#coderFilter").find(b).removeClass("active"),a.addClass("active"),o[c]=a.data("code"),o.currentPage=1,o.searchTxt="",e(p),h("#textFilter").find("input").val(""))}function e(a){h.ajax({url:p.serurl,dataType:"json",data:o,context:{maskId:h("#imListBox")},success:function(a){a.result&&(h("#imListBox").html(i(p.tpl,a.data)),q.initPage("#pager",a.data,f,o),r=a.data.totalPages)}})}function f(a){h.ajax({async:!0,cache:!1,url:p.serurl,data:a,context:{maskId:"pager"},dataType:"json",success:function(b){b.result&&(b.data.totalPages=r,q.initPage("#pager",b.data,f,a),h("#imListBox").html(i(p.tpl,b.data)))}})}function g(){h.ajax({url:"/service/web/nicecode/yy/code/boutique?size=4",type:"GET",cache:!1,dataType:"json",context:{maskId:"getNiceCode"},success:function(a){a.result&&h("#niceCodeBox").html(i("tplNiceCode",a.data))}})}var h=jQuery=a("../../lib/jquery.min-debug"),i=a("../../lib/template.min-debug"),j=a("../../mod/dialog/dialog-debug");a("../../mod/screenWatch-debug"),a("../../mod/header-debug"),a("../../mod/ajaxhelper-debug"),a("./nicecodenav-debug");var k=a("../../mod/login-debug");k.getUserInfo(function(a){a&&a.data&&a.data.info&&a.data.info.vipUser});var l=1,m=window.location.search.substr(1).match(/(^|[&|?])type=([^&]*)(&|$)/);null!=m&&(l=unescape(m[2]));var n={1:"<em>单号</em><span>靓号</span>",2:"<em>情侣</em><span>靓号</span>",3:"<em>频道</em><span>靓号</span>",21:"<em>租赁</em><span>靓号</span>"};h("#filterTitle").replaceWith(i.compile(n[l])({})),h.ajax({url:"/service/web/nicecode/optoins",dataType:"json",data:{type:l},success:function(a){a.result&&h("#coderFilter").html(i("tpl_coldfilter",h.extend(a.data,{pagetype:l})))}});var o={code:0,priceRangeCode:0,sizeCode:0,searchTxt:"",currentPage:1},p={1:{serurl:"/service/web/nicecode/yy/code/select?type=1",tpl:"tpl_ImList",className:"nicecode-list__N"},2:{serurl:"/service/web/nicecode/yy/code/select?type=2",tpl:"tpl_LoversList",className:"nicecode-list__L"},3:{serurl:"/service/web/nicecode/yy/code/select?type=3",tpl:"tpl_ChList",className:"nicecode-list__C"},21:{serurl:"/service/web/nicecode/yy/code/select?type=21",tpl:"tpl_ImListZL",className:"nicecode-list__N"}}[l];h("#coderFilter").on("click","a.j-select-size",function(){d(h(this),"a.j-select-size","sizeCode")}),h("#coderFilter").on("click","a.j-select-code",function(){d(h(this),"a.j-select-code","code")}),h("#coderFilter").on("click","a.j-select-prize",function(){d(h(this),"a.j-select-prize","priceRangeCode")}),h("#textFilter").on("click","a",function(){var a=h(this).prev("input").val();/^\d+$/.test(a)?(h("#coderFilter").find("a").removeClass("active"),h("#coderFilter").find("a[data-code=0]").addClass("active"),o={code:0,priceRangeCode:0,sizeCode:0,searchTxt:a,currentPage:1},e(p)):j.showMsgBox("请输入正确的yy号")}),h("#textFilter input").keypress(function(a){13==a.keyCode&&h(this).siblings("a").trigger("click")}),h("#imListBox").addClass(p.className);var q=a("../../mod/pagehelper-debug"),r=1;e(p),h("#getNiceCode").on("click",g).trigger("click"),function(){h.ajax({url:"/service/web/nicecode/yy/code/boutique?size=2",type:"GET",cache:!1,dataType:"json",success:function(a){a.result&&h("#niceCodeLowBox").html(i("tplNiceCode",a.data))}})}(),function(){var a="40004",b="40005",c='<a href="{{url}}" target="_blank"><img src="{{images}}" alt="{{desc}}" style="width:230px;height:150px;"/></a>',d='<div style="width: 260px;height: 320px;max-width: 183px;max-height: 228px;position: fixed;_position: absolute;top: 140px;right:0;text-align: center;"><a href="{{url}}" target="_blank"><img src="{{images}}" alt="{{desc}}"/></a></div>';h.ajax({url:"http://vip.yy.com/vip/ads?adNo="+a+"&adNo="+b,type:"GET",cache:!1,dataType:"jsonp",success:function(e){e.data&&(e.data[a]&&h("#mallTrendAxd").html(i.compile(c)(e.data[a][0])),e.data[b]&&1==l&&h("body").append(i.compile(d)(e.data[b][0])))}})}();var s="";1==l||2==l?s='<ul class="rules-detail">	<li><span>会员和普通用户都可以购买YY靓号</span></li>	<li><span>买YY靓号送3个月会员，客户端会显示YY靓号图标，当购买YY靓号超过一定金额时，会获得YY土豪靓号图标</span></li>	<li><span>购买单号靓号的用户，所购买的靓号需手动绑定在购买时使用的账号上，不可转移绑定在其它账号上</span></li>	<li><span>成功购买YY靓号后，请在30天内完成绑定，如逾期未完成绑定，YY会员将有权回收该靓号且不退款</span></li>	<li><span>拥有YY靓号需要一直保持YY会员身份，如使用YY靓号过程中YY会员过期，且超过30天未续费，该YY靓号将会将被系统回收</span></li>	<li><span>情侣靓号的其中一个号码默认绑定在购买时使用的账号上，另一个号码绑定在手动输入的YY号上</span></li>	<li><span>购买情侣靓号需要遵守以上规定，如有一个号码没有满足以上规定，则两个靓号将一起被系统回收</span></li></ul>':21==l?(s='<ul class="rules-detail"><li>租赁到期时间内，号码拥有者，可优先续租，在我的购买中进行操作</li><li>租赁日从付款购买当天算起，租赁到期后，即系统收回租赁的号码</li><li>租赁的号码，不再赠送YY会员，且不再需要与会员身份绑定，会员过期不会回收租赁的号码</li><li>租赁靓号的用户，所租赁的靓号需手动绑定在购买时使用的账号上，不可转移绑定在其它账号上</li><li>若租赁号码在租赁期内，用户自行更换号码，被更换号码也为用户保留对应租赁的时长，若用户号码被回收，租赁期也未满，则回到租赁的号码若租赁期已满，则回收该号码</li></ul>',h("#buyRules").html("租赁购买说明»")):s='<ul class="rules-detail">	<li><span>YY用户均可购买频道靓号。购买成功后会赠送您3张加油金卡，系统会在靓号激活后为您自动使用。</span></li>	<li><span>购买靓号后，用户可把靓号覆盖到购买账号已拥有的频道号上，原始频道的积分、等级等，均能移植到频道靓号上。靓号不能转移到其他YY账号下。</span></li>	<li><span style="color:red;">原始频道必须先完成频道类型认证，才能激活频道靓号。<a href="https://hao.yy.com/owauth/authDefault" target="_blank">完成频道认证</a></span></li>	<li><span>频道靓号购买后，需按相关的考核标准参与考核。<a href="http://vip.yy.com/vip/nicecode/channelrule" target="_blank">详细说明</a></span></li>	<li><span>购买靓号时，需在30分钟内完成支付；逾期未完成支付的号码，将重新上架到商城。</span></li>	<li><span>成功购买频道靓号后，30天内需在会员<a href="http://vip.yy.com/vip/nicecode/mine" target="_blank">靓号商城-我的购买</a>中完成激活。否则靓号商城有权回收靓号，余额不退。</span></li></ul>',h("#buyRules").on("click",function(){j.showMsgBox(s)})});